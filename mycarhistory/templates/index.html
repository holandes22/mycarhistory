{% extends 'base.html' %}
{% block page_content %}
{% verbatim %}

<script type="text/x-handlebars" id="cars">
<div class="container">
  <div class="row">
    <div class="col-md-3">
      <ul class="nav nav-pills nav-stacked">
        {{#with model as cars}}
          {{#each car in cars}}
            <li>{{#link-to 'car' car}}{{car.fullName}}{{/link-to}}</li>
            {{#if car.treatments}}
              <li class="dropdown-header">{{#link-to 'treatments' car.id}}Treatments{{/link-to}}</li>
            {{/if}}
          {{/each}}
        {{/with}}
      </ul>
    </div>
    <div class="col-md-9">
      {{outlet}}
    </div>
  </div>
</div>
</script>

<script type="text/x-handlebars" id="car">
  <div>
    {{#with model as car}}
    <div class="row">
      <legend>Car Details</legend>
      <table class="table table-striped">
        <tr>
          <th>Brand</th>
          <th>Model</th>
          <th>Year</th>
        </tr>
        <tr>
          <td>{{car.brand}}</td>
          <td>{{car.model}}</td>
          <td>{{car.year}}</td>
        </tr>
      </table>
    </div>
    <div class="row">
      {{outlet}}
    </div>
    {{/with}}
  </div>
</script>


<script type="text/x-handlebars" id="treatments">
  <legend>Treatments</legend>
  <ul>
  {{#each model}}
    <li>{{#link-to 'treatment' this}}Treatment done on {{date}}{{/link-to}}</li>
  {{/each}}
  {{outlet}}
  </ul>
</script>

<script type="text/x-handlebars" id="treatment">
  <legend>Treatment Details</legend>
  <table class="table table-stripped table-bordered">
    <tr>
      <th>Done By</th>
      <th>Description</th>
      <th>Date</th>
    </tr>
    <tr>
      <td>{{done_by}}</td>
      <td>{{description}}</td>
      <td>{{date}}</td>
    </tr>
  </table>
</script>

{% endverbatim %}
{% endblock page_content %}
